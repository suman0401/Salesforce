<template>
    <lightning-input-rich-text formats="font, bold, italic, underline, strike,
    list, indent, align, link, image, clean, code, code-block, color, background, header" onchange={handleChange} value={details}
    onclick={openPopup}>
        <lightning-rich-text-toolbar-button-group slot="toolbar" aria-label="First group" >
            <lightning-rich-text-toolbar-button
                icon-name="doctype:image"
                icon-alternative-text="Link Asset"
                onclick={openPopup}
                onpopupclickout={handlePopupClickout}
                >
                 <!-- Popup Items -->
                 <!-- <lightning-input label="Save As"></lightning-input>
                 <div class="slds-m-top_small">
                     <lightning-button
                         variant="brand"
                         label="Save"
                         onclick={handleSave}
                     >
                     </lightning-button> -->
                     <!-- <lightning-button
                         variant="bare"
                         label="Cancel"
                         onclick={closePopup}
                         style="margin-left: .25rem"
                     >
                     </lightning-button> -->
                     <div class="slds-modal__content slds-var-p-around_medium"> 
                        <template if:false={showModal}>
                             <div class="slds-col slds-size_1-of-2 slds-float_right" >
                                  <lightning-button  style="margin-left: 260px;" variant="brand" label="Link Asset" onclick={linkAsset}></lightning-button>
                             </div>
                        </template>   
                        <template if:true={showModal}>
                            <!-- Modal/Popup Box LWC starts here -->
                            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                                <div class="slds-modal__container">
                                    <!-- Modal/Popup Box LWC body starts here -->
                                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1" style="width: 135% ;">
                                        <template if:true={showModal}> 
                            
                                            <header class="slds-modal__header">
                                               <h2 class="slds-text-heading_small">Browse Media</h2>
                                               <lightning-icon class="slds-modal__close" icon-name="utility:close" size="small" onclick={closemodal} style="--sds-c-icon-color-foreground : black; margin-top:40px; margin-right:7px; cursor: pointer;" icon-position="right"></lightning-icon>
                                            </header>
                                           
                                            <div style="height: 500px;width:100%;overflow:scroll;" id="test">
                                                <!-- <c-mediawidgetintegratorcomponent mediawidgeturl={iframeurl} onassetdata={handleEvent}></c-mediawidgetintegratorcomponent> -->
                                               <sf_otmm_conn-mediawidgetintegratorcomponent mediawidgeturl={iframeurl} onassetdata={handlePopupClickout} ></sf_otmm_conn-mediawidgetintegratorcomponent>   
                                            </div>
                                       </template>
                                    </div>
                                    <!-- Modal/Popup Box LWC footer starts here -->
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open"></div>
                        </template>
                    </div>
                     <!-- <lightning-button
                 class ="slds-m-top_small slds-align_absolute-center"
                 variant="brand"
                 type="submit"
                 name="update"
                 label="Update">
                </lightning-button> -->
                 <!-- </div> -->
             </lightning-rich-text-toolbar-button>
             <!-- <lightning-rich-text-toolbar-button
                 icon-name="utility:brush"
                 disabled
             ></lightning-rich-text-toolbar-button> -->
         </lightning-rich-text-toolbar-button-group>
 
         <!-- <lightning-rich-text-toolbar-button-group
             slot="toolbar"
             aria-label="Second group"
         >
             
         </lightning-rich-text-toolbar-button-group> -->
     </lightning-input-rich-text>
              
</template>